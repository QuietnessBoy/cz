-----------20171120----------
数据库操作
1.新增temp_order表，用于临时接收用户上传参数信息包括ossAddr；√
2.channel_id改为config_type,文件对应的oss、id手动配置进表中，id生成方式：ordersn_uuid；50位 
3.status表中的state2字段删除。  √

版本代码
	业务代码：
	1.修改fileAddr存储方式。attest删除，只保存在attestFile;   √ 
	2.originTime是业务处理阶段的存证起始时间，对应的还有一个数据库字段;√
	3.duration.临时表以"天"为单位，正式表以"年"为单位; √
	4.续期attestFile表中数据不需要改,因为fileAddr存储的是文件OSS中的ID; √
	5.业务处理失败的用warn,内部异常用error; √
	6.文件存储流程更改.解析OSS地址，获取文件流，上传至知金链OSS服务器；√
	7.OSS服务器操作方法封装; √
	8.所有关于批量查询语句，加上数量限制;limit ???   √
	9.监控超时方法名，重新起名。检查其他类似方法名，统一调整；√
	10.代码中关于数据库操作的方法，必须添加事务注解    √
	11.删除关于请求的返回值处理，例如上链操作的返回值处理.	√
	12.确认ordersn是否带有双引号？怎么解决？√
	13.更新ordersn未请求到的处理方式。未请求到ordersn，进行status记录；√
	14.JsonResult升级 √
	15.订单过期扫描机制，更改以“天”为单位进行扫描。凌晨2-4点 √
	16.保证定时器任务在规定时间内只有一个运行；暂不修改 ×
	17.修改续期代码。增加根订单号，续期时，要围绕根订单进行操作。√
	18.处理失败订单，添加“处理失败”状态，便于渠道再次发送请求	
	19.业务处理失败回调.
	上链代码：
	1.删除AttestToChained对象，根据attest参与czDetail生成. √
	2.检查封装对应上链方法，简洁高效，按照业务代码，对返回值、回调进行处理。 √
****
续期流程的说明：
	1 渠道续期的时候传输原始的平台订单号ordersn √
	2 存证平台必须按照顺序关联指定订单的续期记录，形成链表  √
	3 续期的时候attest file表不做任何改动。√
	4 过期扫描的时候，逻辑操作对象就是原始订单号。需要考虑ordersn的整体时间链条。  √
		如果实现业务逻辑复杂，可以建立缓存。 祖先订单、最新订单、最新订单的信息。
	5 查询的时候，返回最新订单的信息 √
	
	
测试：
1.本地测试，数据达到10W条

rabbitMq:
1.搭建集群
2.查找日志保存位置
3.查找rabbitMq节点停止工作原因 √



-------------2017-11-22-----------------
1.端口号确定
2.程序部署
3.API整理
4.代码检查程序--阿里
5.链上接口程序调整.
